--- a/include/linux/compiler-gcc.h
+++ b/include/linux/compiler-gcc.h
@@ -7,6 +7,10 @@
  */
 
 
+#define GCC_VERSION (__GNUC__ * 10000       \
+           + __GNUC_MINOR__ * 100 \
+           + __GNUC_PATCHLEVEL__)
+
 /* Optimization barrier */
 /* The "volatile" is due to gcc bugs */
 #define barrier() __asm__ __volatile__("": : :"memory")
